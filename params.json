{"name":"Travis-build","tagline":".travis.yml => build.sh converter","body":"# Travis Build [![Build Status](https://travis-ci.org/travis-ci/travis-build.png?branch=master)](https://travis-ci.org/travis-ci/travis-build)\r\n\r\nTravis Build is a library that [Travis\r\nWorkers](https://github.com/travis-ci/travis-worker) use to generate a shell\r\nbased build script which is then uploaded to the VMs using SSH and executed,\r\nwith the resulting output streamed back to Travis.\r\n\r\nThis code base has gone through several iterations of development, and was\r\noriginally extracted from [Travis\r\nWorker](https://github.com/travis-ci/travis-worker), before taking its current\r\nform.\r\n\r\n## Running test suites\r\n\r\nSince the specs run the generated build script, we recommend running it in a\r\nvirtual machine to contain the changes. There's a Vagrantfile in this\r\nrepository, so you can use [Vagrant](http://www.vagrantup.com) for this:\r\n\r\n    vagrant up\r\n    vagrant ssh\r\n    cd /vagrant\r\n    bundle exec rspec spec\r\n\r\nIf you wish to just run the specs, you can just run `bundle exec rspec spec`.\r\n\r\n## Use as addon for CLI\r\n\r\nYou can set travis-build up as a plugin for the [command line client](https://github.com/travis-ci/travis.rb):\r\n\r\n    ln -s PATH_TO_TRAVIS_BUILD ~/.travis/travis-build\r\n\r\nThis will add the `compile` command to travis CLI, which produces\r\nthe bash script that runs the specified job, except that the secure environment\r\nvariables are not defined, and that the build matrix expansion is not considered.\r\n\r\n### _Important_\r\n\r\nThe resulting script contains commands that make changes to the system on which it is executed\r\n(e.g., edit `/etc/resolv.conf`, install software).\r\nSome require `sudo` privileges and they are not easily undone.\r\n\r\nIt is highly recommended that you run this on a virtual machine.\r\n\r\n### Invocation\r\n\r\nThe command can be invoked in 3 ways:\r\n\r\n1. Without an argument, it produces the bash script for the local `.travis.yml` without considering `env` and `matrix` values\r\n(`travis-build` is unable to expand these keys correctly).\r\n\r\n    `$ travis compile`\r\n\r\n1. With a single integer, it produces the script for the given build\r\n(or the first job of that build matrix).\r\n\r\n    `$ travis compile 8`\r\n\r\n1. With an argument of the form `M.N`, it produces the bash script for the job `M.N`.\r\n\r\n    `$ travis compile 351.2`\r\n\r\nThe resultant script can be used on a (virtual) machine that closely mimics Travis CI's build\r\nenvironment to aid you in debugging the build failures.\r\n\r\n## License & copyright information\r\n\r\nSee LICENSE file.\r\n\r\nCopyright (c) 2011-2014 [Travis CI development\r\nteam](https://github.com/travis-ci).\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}